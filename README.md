# Concurrency-Driven Reservation System
"동시성 사고를 재현하고, 설계로 해결한다."

1. 프로젝트 목적
실무 환경에서 예약 시스템은 다음과 같은 문제를 가진다.
- 동시에 여러 사용자가 같은 좌석을 예약
- 트랜잭션이 있어도 데이터 적합성이 깨질 수 있음

이 프로젝트는 단순 CRUD가 아니라, 동시성 이슈를 의도적으로 재현하고, 설계적 해결을 비교 분석하는 것을 목표로 한다.

## 현재 구현 단계 (1단계)
1단계 - 기본 트랜잭션 (깨지는 상태)
- 단순 @Transactional
- 도메인에 좌석 감소 로직 포함
- 멀티스레드 테스트 작성
- 실재 HTTP 동시 요청 재현

## 동시성 실험
#### 실험 조건
- 좌석 수: 1
- 동시 요청: 100개
- 단순 트랜잭션 환경

#### 결과
- 좌석이 음수로 감소
- Lost Update 발생
- 정합성 붕괴 확인

#### 원인 분석
- 기본 트랜잭션은 원자성은 보장하지만 동시에 동일 row를 읽는 것을 막지 못함
- READ_COMMITTED 환경에서 충돌 발생

## 다음 단계 계획
- 비관적 락 적용
- 낙관적 락 적용
- 재시도 전략 구현
- 보상 트랜잭션 설계

## 핵심 
- 트랜잭션 != 동시성 완전 해결
- 동시성은 설계의 문제
- 도메인에 불변 규칙이 필요
